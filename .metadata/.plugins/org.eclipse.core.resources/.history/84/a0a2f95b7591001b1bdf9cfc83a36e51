<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="Member">
  <select id="idCheck" parameterType="String" resultType="int">
    select count(m_idx) from tb_member where m_userid=#{userid}
  </select>
  
  <insert id="join" parameterType="map">
  	insert into tb_member (m_userid, m_userpw, m_name, m_hp, m_email, m_hobby, 
  	m_ssn1, m_ssn2, m_zipcode, m_address1, m_address2, m_address3) values
  	(#{m_userid}, #{m_userpw}, #{m_name}, #{m_hp}, #{m_email}, #{m_hobby},
  	#{m_ssn1}, #{m_ssn2}, #{m_zipcode}, #{m_address1}, #{m_address2}, #{m_address3})
  </insert>
  
  <select id="login" parameterType="map" resultType="map">
  	select m_idx, m_name from tb_member where m_userid=#{m_userid} and m_userpw=#{m_userpw}
  </select>
  
  <select id="info" parameterType="map" resultType="map">
  	select * from tb_member where m_userid=#{m_userid}
  </select>
  
  <select id="pwCheck" parameterType="map" resultType="int">
  	select count(m_idx) from tb_member where m_idx=#{m_idx} and m_password=#{m_password}
  </select>
  
  <update id="edit" parameterType="map">
  	update tb_member set m_name=#{m_name}, m_hp=#{m_hp}, m_email=#{m_email}, m_hobby=#{m_hobby},
  	m_ssn1=#{m_ssn1}, m_ssn2=#{m_ssn2}, m_zipcode=#{m_zipcode}, m_address1=#{m_address1}, 
  	m_address2=#{m_address2}, m_address3=#{m_address3} where m_idx=#{mem_idx}
  </update>
</mapper>